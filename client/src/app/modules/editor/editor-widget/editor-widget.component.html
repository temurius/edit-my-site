<!-- Floating button -->
<button class="fixed bottom-6 right-6 btn-primary rounded-full shadow-soft" (click)="toggle()" aria-label="Toggle editor">
  ✏️
  <span class="sr-only">Toggle editor</span>
  </button>

<!-- Panel -->
<div *ngIf="open" #panel class="fixed bottom-20 right-6 w-[380px] glass p-4">
  <h3 class="font-semibold mb-2">Edit-My-Site AI</h3>
  <app-edit-command-input [control]="prompt" (submitCommand)="runEdit()"></app-edit-command-input>

  <div class="mt-3">
    <label class="text-sm opacity-70">Selected HTML</label>
    <div class="mt-1 p-3 bg-white/60 dark:bg-slate-900/50 rounded border border-white/20">
      <div [innerHTML]="selectedHtml"></div>
    </div>
  </div>

  <app-preview-diff class="mt-3" *ngIf="result" [result]="result"></app-preview-diff>

  <div class="mt-3 flex justify-end gap-2">
    <button class="btn-ghost" (click)="toggle()">Close</button>
  </div>
</div>

